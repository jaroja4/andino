class MensajeReceptor{constructor(id,clave,identificacion,montoImpuesto,totalComprobante,identificacionReceptor,consecutivoFE,mensaje,detalle){this.id=id||null,this.clave=clave||"",this.identificacion=identificacion||"",this.montoImpuesto=montoImpuesto||"",this.totalComprobante=totalComprobante||"",this.identificacionReceptor=identificacionReceptor||"",this.consecutivoFE=consecutivoFE||null,this.mensaje=mensaje||null,this.detalle=detalle||null}showInfo(){$(".close").click(),swal({type:"success",title:"Listo!",showConfirmButton:!1,timer:1e3})}showError(e){var data=JSON.parse(e.responseText);session.in(data),swal({type:"error",title:"Oops...",text:"Algo no está bien ("+data.code+"): "+data.msg})}drawRespuesta(e){var tRespuesta=$("#tRespuesta").DataTable({data:e,destroy:!0,searching:!1,paging:!1,info:!1,ordering:!1,order:[[0,"desc"]],columns:[{title:"CLAVE",data:"clave"},{title:"ESTADO",data:"estado"}]})}Init(){var validator=new FormValidator({events:["blur","input","change"]},document.forms.frmXml);$("#frmXml").submit(function(e){var validatorResult;return e.preventDefault(),validator.checkAll(this).valid&&null!=dz&&dz.processQueue(),!1}),document.forms.frmXml.onreset=function(e){validator.reset()},$(function(){$(document).ajaxStart(NProgress.start).ajaxStop(NProgress.done)}),$("#btnSubmit").click(function(){$("#m").val($("#tipoMensaje option:selected").val()),$("#d").val($("#detalleMensaje").val()),$("#frmXml").submit()}),Dropzone.options.frmXml={init:function(){this.on("addedfile",function(file){dz=this}),this.on("complete",function(file){var data=JSON.parse(file.xhr.response);return mr.drawRespuesta(data),$("#modalRespuesta").show(),!0}),this.on("error",function(file){var data=JSON.parse(file.xhr.response);sesion.in(data),swal({type:"error",title:"Oops...",text:"Archivo no válido."}),this.removeFile(file)}),this.on("canceled",function(file){swal({type:"error",title:"Oops...",text:"Certificado cancelado"})})},autoProcessQueue:!1,acceptedFiles:"text/xml",parallelUploads:100,uploadMultiple:!0,addRemoveLinks:!0,autoDiscover:!1}}}var dz;let mr=new MensajeReceptor;